---
title: bresenhamç®—æ³•
date: 2018-09-17 22:16:44
tags:
  - c++
  - Computer Graphics
---

åœ¨å®éªŒè¯¾ä¸Šç”¨è‡ªå·±çš„ç®—æ³•ç”»ç›´çº¿è¢« diss æ•ˆç‡ä½  
èŠ±äº†åŠå¤©æ—¶é—´çœ‹äº†ä¸‹ Bresenham ç®—æ³•çœŸ ğŸ®ğŸº  
æ€»ç»“ä¸€ä¸‹å…¶ä¸­çš„ç²¾å¦™ä¹‹å¤„  
Bresebham ç›´çº¿ç”Ÿæˆç®—æ³•çš„åŸºæœ¬åŸç†æ˜¯ï¼Œæ¯æ¬¡åœ¨æœ€å¤§ä½ç§»æ–¹å‘ä¸Šèµ°ä¸€æ­¥ï¼Œè€Œå¦ä¸€ä¸ªæ–¹å‘æ˜¯èµ°æ­¥è¿˜æ˜¯ä¸èµ°æ­¥å–å†³äºè¯¯å·®é¡¹çš„åˆ¤åˆ«ã€‚  
å£°æ˜ k ä¸ºæ–œç‡  
åœ¨ 0â‰¤k<1 çš„æƒ…å†µä¸‹ï¼Œå‡è®¾å½“å‰ç‚¹æ˜¯ P($x_1$,$y_1$)ï¼Œåˆ™ä¸‹ä¸€ä¸ªç‚¹åœ¨ $P_u$($x_1$+1,$y_1$+1)ä¸ $P_d$($x_1$+1,$y_1$)ä¸­é€‰ä¸€ã€‚  
ä»¥ M è¡¨ç¤º $P_u$ ä¸ $P_d$ çš„ä¸­ç‚¹ï¼Œå³ M($x_1$+1,$y_1$+0.5)ã€‚è®¾ Q æ˜¯ç†æƒ³ç›´çº¿ä¸ x=$x_i$+1 çš„äº¤ç‚¹ï¼›  
æ˜¾ç„¶ï¼Œè‹¥ M åœ¨ Q çš„ä¸‹æ–¹ï¼Œåˆ™ Pu($x_1$+1,$y_1$+1)ç¦»ç›´çº¿è¾ƒè¿‘ï¼Œåº”å–ä¸ºä¸‹ä¸€ä¸ªåƒç´ ï¼›å¦åˆ™åº”å– $P_d$($x_1$+1,$y_1$)ã€‚  
ç†è§£å¹¶ä¸éš¾ ä¸»è¦åœ¨äºå®ç°  
ä¾æ®è¯¥ç®—æ³•çš„åŸç†åŸºæœ¬èƒ½å¤Ÿå®ç°  
çªå…ˆè¯•ç€è‡ªå·±å†™äº†ä¸€ä¼š  
å¦‚æœè¦å®ç°å„ä¸ªæ–¹å‘çš„äºŒç»´ç›´çº¿ç»˜åˆ¶  
éœ€è¦è€ƒè™‘å¤šç§æƒ…å†µ å†™å‡ºæ¥å¾ˆä¸ç¾è§‚  
æ•™æä¸Šç»™å‡ºäº†æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼š  
åŒæ ·ä»¥ 0â‰¤k<1 ä¸ºä¾‹  
æ¯æ¬¡é€‰å–ä¸‹ä¸ªç‚¹æ—¶ç†æƒ³ç›´çº¿çš„ y åæ ‡éƒ½æ­¥è¿› k ä¸ªå•ä½é•¿åº¦  
ç´¯åŠ å€¼å³ä¸ºè¯¯å·®é¡¹ $d_i$  
å½“ $d_i$ å¤§äº 0.5 æ—¶é€‰å– Pu å¦åˆ™é€‰å– $P_d$ å¹¶ä½¿ $d_i$-1  
ä»¤ $e_i$=$d_i$-0.5  
åˆ™ $e_i$>0 æ—¶é€‰å– Pu å¦åˆ™é€‰å– $P_d$  
ç»è¿‡æ”¹è¿›ï¼Œç®—æ³•çš„æ•ˆç‡å¤§å¹…æå‡  
ä½†å…¶ä¸­åœ¨è®¡ç®—æ–œç‡ä¸è¯¯å·®é¡¹æ—¶ä¼šç”¨åˆ°å°æ•°å’Œé™¤æ³•  
å¹¶ä¸”ä¸‹ä¸€æ­¥çš„é€‰æ‹©åªä¸è¯¯å·®é¡¹çš„ç¬¦å·æœ‰å…³  
å› æ­¤å¯ä»¥è¿›ä¸€æ­¥æ”¹è¿›ï¼š  
å¯çŸ¥ $e_i$ çš„å€¼ç”±ä¸‰ç§å€¼ç»„æˆï¼š$e_i$=-1/2(åˆå§‹å€¼)+(n ä¸ª)y/x(æ­¥è¿›å€¼)-(m ä¸ª)1(è°ƒæ•´å€¼)...  
åŒä¹˜ 2x å³å¾— 2x*$e_i$=-x+(n ä¸ª)2*y-(m ä¸ª)2\*x....  
è¿™æ ·å³å¯å¾—åˆ°ä»…ç”±æ•´æ•°æ„æˆçš„ç®—æ³•  
ä»¥ä¸Šä»…ä¸ºå¯¹ 0â‰¤k<1 æƒ…å†µä¸‹çš„è®¨è®º  
å…¶ä½™çš„æƒ…å†µç±»ä¼¼  
é™„ä¸€æ®µæ‚ä¹±æ— ç« çš„ä»£ç 

```
point<Type> now_point = start;
  point<Type> e_step, point_step;
  e_step.x = abs(step.x);
  e_step.y = abs(step.y);
  glBegin(GL_POINTS);
  if (step.x == 0 && step.y == 0) //No Step
    return;
  point_step.x = (step.x == 0) ? 1 : step.x / e_step.x;
  point_step.y = (step.y == 0) ? 1 : step.y / e_step.y;
  if (step.x == 0) {   // k is endless
    do{
      glVertex2i(now_point.x, now_point.y);
      now_point.y += point_step.y;
    } while (now_point.y != end.y);
  }
  else if (step.y == 0) {   //k is zero
    do {
      glVertex2i(now_point.x, now_point.y);
      now_point.x += point_step.x;
    } while (now_point.x != end.x);
  }
  else if (abs(step.y / step.x) == 0) {   // |k| < 1
    Type e = -e_step.x;
    do {
      glVertex2i(now_point.x, now_point.y);
      e += 2 * e_step.y;
      now_point.x += point_step.x;
      if (e > 0) {
        now_point.y += point_step.y;
        e -= 2 * e_step.x;
      }
    } while (now_point.x != end.x);
  }
  else {    // |k| >= 1
    Type e = -e_step.y;
    do {
      glVertex2i(now_point.x, now_point.y);
      e += 2 * e_step.x;
      now_point.y += point_step.y;
      if (e > 0) {
        now_point.x += point_step.x;
        e -= 2 * e_step.y;
      }
    } while (now_point.y != end.y);
  }
  glEnd();
  glFlush();

```
